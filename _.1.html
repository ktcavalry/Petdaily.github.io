<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å® ç‰©æ—¥æŠ¥ - æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- SEO ä¼˜åŒ– -->
  <meta name="description" content="å® ç‰©æ—¥æŠ¥ - å®ˆæŠ¤çˆ±å® æ¯ä¸€æ¬¡å¿ƒè·³ä¸è¶³è¿¹çš„æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°ï¼Œæä¾›å® ç‰©å®šä½ã€å¥åº·ç›‘æµ‹ã€åŒ»ç–—æœåŠ¡å’Œç¤¾åŒºäº’åŠ©">
  <meta name="keywords" content="å® ç‰©å®šä½,å® ç‰©å¥åº·,å® ç‰©åŒ»ç–—,å® ç‰©ç¤¾åŒº,æ™ºèƒ½é¡¹åœˆ,å® ç‰©è¿½è¸ª,å® ç‰©æ—¥æŠ¥">
  <meta name="author" content="å® ç‰©æ—¥æŠ¥å›¢é˜Ÿ">
  <meta property="og:title" content="å® ç‰©æ—¥æŠ¥ - æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°">
  <meta property="og:description" content="å®ˆæŠ¤çˆ±å® æ¯ä¸€æ¬¡å¿ƒè·³ä¸è¶³è¿¹ï¼ŒåŒ—æ–—å®šä½Â·å¥åº·ç›‘æµ‹Â·ç¤¾åŒºäº’åŠ©">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://images.unsplash.com/photo-1514888286974-6d03bde4ba48?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80">
  
  <!-- ç»“æ„åŒ–æ•°æ® -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "å® ç‰©æ—¥æŠ¥",
    "description": "æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°ï¼Œæä¾›å® ç‰©å®šä½ã€å¥åº·ç›‘æµ‹å’Œç¤¾åŒºæœåŠ¡",
    "url": "https://www.petdaily.com",
    "applicationCategory": "LifestyleApplication",
    "offers": {
      "@type": "Offer",
      "price": "399",
      "priceCurrency": "CNY"
    },
    "operatingSystem": "All"
  }
  </script>
  
  <!-- å›¾æ ‡ -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¾</text></svg>">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¾</text></svg>">
  
  <!-- å¤–éƒ¨åº“ -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  
  <!-- å­—ä½“ä¼˜åŒ– -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FF7A00',
            primaryHover: '#E56D00',
            secondary: '#3B82F6',
            danger: '#EF4444',
            success: '#10B981',
            neutral: '#F5F5F5',
            dark: '#333333',
            light: '#FFFFFF'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.5s ease-out',
            'bounce-slow': 'bounce 2s infinite',
            'slide-down': 'slideDown 0.3s ease-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            slideDown: {
              '0%': { transform: 'translateY(-10px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            }
          }
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.15);
      }
      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .radar-scan {
        background: conic-gradient(from 0deg, transparent 0deg, rgba(255, 122, 0, 0.2) 360deg);
        animation: spin 2s linear infinite;
        border-radius: 50%;
      }
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
      .mobile-tap-target {
        min-height: 44px;
        min-width: 44px;
      }
      
      /* é˜²æ­¢ç§»åŠ¨ç«¯ç‚¹å‡»å»¶è¿Ÿ */
      .tap-highlight {
        -webkit-tap-highlight-color: transparent;
      }
      
      /* å¹³æ»‘æ»šåŠ¨ */
      html {
        scroll-behavior: smooth;
      }
      
      /* éª¨æ¶å±åŠ¨ç”» */
      .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }
      
      @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
      
      /* å›¾ç‰‡æ‡’åŠ è½½æ ·å¼ */
      .lazy-image {
        transition: opacity 0.3s ease-in-out;
      }
      .lazy-image.loaded {
        opacity: 1;
      }
      .lazy-image:not(.loaded) {
        opacity: 0;
      }
      
      /* ç§»åŠ¨ç«¯èœå•åŠ¨ç”» */
      .mobile-menu-enter {
        animation: slideDown 0.3s ease-out;
      }
      
      /* é«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ */
      @media (prefers-contrast: high) {
        .primary-contrast {
          color: #cc5500 !important;
        }
        .bg-primary-contrast {
          background-color: #cc5500 !important;
        }
      }
    }
  </style>
</head>

<body class="bg-gray-50 font-sans text-dark scroll-smooth tap-highlight">
  <!-- é¡µé¢åŠ è½½åŠ¨ç”» -->
  <div id="pageLoader" class="fixed inset-0 bg-white z-[9999] flex items-center justify-center transition-opacity duration-500" aria-live="polite" aria-label="é¡µé¢åŠ è½½ä¸­">
    <div class="text-center">
      <div class="w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-6" aria-hidden="true"></div>
      <div class="flex items-center space-x-1">
        <div class="w-2 h-2 bg-primary rounded-full animate-bounce" aria-hidden="true"></div>
        <div class="w-2 h-2 bg-primary rounded-full animate-bounce" style="animation-delay: 0.1s" aria-hidden="true"></div>
        <div class="w-2 h-2 bg-primary rounded-full animate-bounce" style="animation-delay: 0.2s" aria-hidden="true"></div>
      </div>
      <p class="text-gray-600 mt-4 font-medium" id="loadingText">å® ç‰©æ—¥æŠ¥åŠ è½½ä¸­...</p>
    </div>
  </div>
  
  <!-- è´­ç‰©è½¦é€šçŸ¥å®¹å™¨ -->
  <div id="notificationContainer" class="fixed top-20 right-4 z-[999] space-y-3" aria-live="polite" aria-atomic="true"></div>
  
  <!-- è´­ç‰©è½¦ä¾§è¾¹æ  -->
  <div id="cartSidebar" class="fixed right-0 top-0 h-full w-full md:w-96 bg-white shadow-2xl z-[9999] transform translate-x-full transition-transform duration-300" role="dialog" aria-modal="true" aria-label="è´­ç‰©è½¦" aria-describedby="cartDescription">
    <div class="h-full flex flex-col">
      <div class="p-6 border-b border-gray-200">
        <div class="flex justify-between items-center">
          <h2 class="text-xl font-bold flex items-center">
            <i class="fa fa-shopping-cart text-primary mr-2" aria-hidden="true"></i>
            è´­ç‰©è½¦
            <span id="cartItemCount" class="ml-2 bg-primary text-white text-xs px-2 py-1 rounded-full">0</span>
          </h2>
          <button id="closeCartBtn" class="text-gray-400 hover:text-gray-600 text-2xl transition-colors mobile-tap-target" aria-label="å…³é—­è´­ç‰©è½¦">
            <i class="fa fa-times" aria-hidden="true"></i>
          </button>
        </div>
        <p class="text-gray-500 text-sm mt-2" id="cartDescription">å·²é€‰å•†å“</p>
      </div>
      
      <div id="cartItemsContainer" class="flex-1 overflow-y-auto p-6 space-y-4" role="list" aria-label="è´­ç‰©è½¦å•†å“åˆ—è¡¨">
        <!-- è´­ç‰©è½¦å•†å“åŠ¨æ€åŠ è½½ -->
        <div class="text-center py-10 text-gray-400" id="emptyCartMessage" aria-live="polite">
          <i class="fa fa-shopping-cart text-4xl mb-4" aria-hidden="true"></i>
          <p>è´­ç‰©è½¦ç©ºç©ºå¦‚ä¹Ÿ</p>
          <p class="text-sm mt-2">å¿«å»æŒ‘é€‰å¿ƒä»ªçš„å•†å“å§</p>
        </div>
      </div>
      
      <div class="p-6 border-t border-gray-200">
        <div class="flex justify-between items-center mb-4">
          <span class="font-bold">æ€»è®¡:</span>
          <span id="cartTotal" class="text-2xl font-bold text-primary">Â¥0</span>
        </div>
        <button id="checkoutBtn" class="w-full bg-primary hover:bg-primaryHover text-white py-3 rounded-lg font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed mobile-tap-target" disabled aria-label="å»ç»“ç®—">
          å»ç»“ç®—
        </button>
      </div>
    </div>
  </div>
  <div id="cartOverlay" class="fixed inset-0 bg-black/50 z-[9998] hidden" aria-hidden="true"></div>

  <header id="navbar" class="fixed w-full bg-white/95 backdrop-blur-md shadow-sm z-50 transition-all duration-300">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#" class="flex items-center space-x-2 group" aria-label="è¿”å›é¦–é¡µ">
        <div class="w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white text-lg font-bold shadow-md group-hover:scale-110 transition-transform" aria-hidden="true">
          <i class="fa fa-paw"></i>
        </div>
        <span class="text-xl font-bold text-gray-800 tracking-tight">å® ç‰©æ—¥æŠ¥<span class="text-xs ml-1 text-primary bg-primary/10 px-2 py-0.5 rounded-full">Pro</span></span>
      </a>
    
    <nav class="hidden md:flex items-center space-x-1" aria-label="ä¸»å¯¼èˆª">
      <a href="#" class="px-4 py-2 font-medium text-gray-600 hover:text-primary transition-colors rounded-lg hover:bg-gray-50 mobile-tap-target" aria-current="page">é¦–é¡µ</a>
      <a href="#tracking" class="px-4 py-2 font-bold text-primary bg-primary/5 hover:bg-primary/10 transition-colors rounded-lg flex items-center mobile-tap-target">
        <i class="fa fa-map-marker mr-1.5" aria-hidden="true"></i>å® ç‰©å®šä½
      </a>
      <a href="#medical" class="px-4 py-2 font-medium text-gray-600 hover:text-primary transition-colors rounded-lg hover:bg-gray-50 mobile-tap-target">åŒ»ç–—æœåŠ¡</a>
      <a href="#shop" class="px-4 py-2 font-medium text-gray-600 hover:text-primary transition-colors rounded-lg hover:bg-gray-50 mobile-tap-target">å•†åŸ</a>
      <a href="#community" class="px-4 py-2 font-medium text-gray-600 hover:text-primary transition-colors rounded-lg hover:bg-gray-50 mobile-tap-target">ç¤¾åŒº</a>
    </nav>

    <div class="hidden md:flex items-center space-x-4">
      <button class="text-gray-400 hover:text-primary transition-colors mobile-tap-target" aria-label="æœç´¢">
        <i class="fa fa-search text-lg" aria-hidden="true"></i>
      </button>
      <button id="cartBtn" class="text-gray-400 hover:text-primary transition-colors relative mobile-tap-target" aria-label="è´­ç‰©è½¦">
        <i class="fa fa-shopping-cart text-lg" aria-hidden="true"></i>
        <span id="cartBadge" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center hidden" aria-live="polite">0</span>
      </button>
      <button class="text-gray-400 hover:text-primary transition-colors relative mobile-tap-target" aria-label="é€šçŸ¥">
        <i class="fa fa-bell text-lg" aria-hidden="true"></i>
        <span class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse" aria-hidden="true"></span>
      </button>
      <button id="recordBtn" class="bg-dark text-white px-5 py-2 rounded-full hover:bg-black transition-colors shadow-lg shadow-gray-200 flex items-center text-sm font-medium mobile-tap-target relative overflow-hidden group" aria-label="è®°å½•">
        <span class="relative z-10">
          <i class="fa fa-plus mr-2" aria-hidden="true"></i>è®°å½•
        </span>
        <span class="absolute inset-0 bg-white/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300" aria-hidden="true"></span>
      </button>
      <div class="relative group">
        <button class="w-9 h-9 rounded-full overflow-hidden cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 mobile-tap-target" aria-label="ç”¨æˆ·èœå•" aria-expanded="false" id="userMenuButton">
          <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" 
               alt="ç”¨æˆ·å¤´åƒ" 
               class="w-full h-full object-cover">
        </button>
        <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 hidden group-focus-within:block focus-within:block" role="menu" aria-orientation="vertical">
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">ä¸ªäººèµ„æ–™</a>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">æˆ‘çš„å® ç‰©</a>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">è®¾ç½®</a>
          <div class="border-t border-gray-100"></div>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">é€€å‡ºç™»å½•</a>
        </div>
      </div>
    </div>
    
    <button id="mobileMenuBtn" class="md:hidden text-2xl text-gray-600 mobile-tap-target" aria-label="æ‰“å¼€èœå•" aria-expanded="false" aria-controls="mobileMenu">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </button>
  </div>
  
  <div id="mobileMenu" class="md:hidden bg-white border-t hidden absolute w-full shadow-lg mobile-menu-enter" role="navigation" aria-label="ç§»åŠ¨ç«¯å¯¼èˆª">
    <div class="container mx-auto px-4 py-4 flex flex-col space-y-2">
      <a href="#" class="py-2 px-4 hover:bg-gray-50 rounded-lg mobile-tap-target flex items-center" aria-current="page">
        <i class="fa fa-home text-primary mr-3 w-5 text-center" aria-hidden="true"></i>
        é¦–é¡µ
      </a>
      <a href="#tracking" class="bg-primary/10 text-primary font-bold py-3 px-4 rounded-lg flex items-center mobile-tap-target">
        <i class="fa fa-map-marker mr-3 w-5 text-center" aria-hidden="true"></i>å® ç‰©å®šä½
      </a>
      <a href="#medical" class="py-2 px-4 hover:bg-gray-50 rounded-lg mobile-tap-target flex items-center">
        <i class="fa fa-stethoscope text-primary mr-3 w-5 text-center" aria-hidden="true"></i>
        åŒ»ç–—æœåŠ¡
      </a>
      <a href="#shop" class="py-2 px-4 hover:bg-gray-50 rounded-lg mobile-tap-target flex items-center">
        <i class="fa fa-shopping-cart text-primary mr-3 w-5 text-center" aria-hidden="true"></i>
        å•†åŸ
      </a>
      <a href="#community" class="py-2 px-4 hover:bg-gray-50 rounded-lg mobile-tap-target flex items-center">
        <i class="fa fa-users text-primary mr-3 w-5 text-center" aria-hidden="true"></i>
        ç¤¾åŒº
      </a>
      <div class="pt-2 mt-2 border-t border-gray-100">
        <button id="mobileCartBtn" class="w-full bg-primary text-white py-3 rounded-lg mobile-tap-target flex items-center justify-center" aria-label="æŸ¥çœ‹è´­ç‰©è½¦">
          <i class="fa fa-shopping-cart mr-2" aria-hidden="true"></i>æŸ¥çœ‹è´­ç‰©è½¦
        </button>
        <button class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg mt-2 mobile-tap-target flex items-center justify-center" aria-label="æœç´¢">
          <i class="fa fa-search mr-2" aria-hidden="true"></i>æœç´¢
        </button>
      </div>
    </div>
  </div>
</header>

<main class="pt-20">
  <!-- Hero åŒºåŸŸ -->
  <section class="relative h-[85vh] min-h-[600px] flex items-center overflow-hidden" aria-label="æ¬¢è¿åŒºåŸŸ">
    <div class="absolute inset-0 z-0">
      <!-- èƒŒæ™¯å›¾ç‰‡éª¨æ¶å± -->
      <div class="skeleton absolute inset-0" aria-hidden="true"></div>
      <!-- å®é™…å›¾ç‰‡æ‡’åŠ è½½ -->
      <img data-src="https://images.unsplash.com/photo-1514888286974-6d03bde4ba48?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" 
           alt="å¯çˆ±çš„çŒ«å’ªå’Œç‹—ç‹—ä¾ååœ¨ä¸€èµ·" 
           class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/40 to-transparent" aria-hidden="true"></div>
    </div>
    
    <div class="container mx-auto px-4 z-10 relative mt-10 animate-fade-in">
      <div class="max-w-3xl text-white">
        <div class="inline-block px-3 py-1 bg-white/20 backdrop-blur-md border border-white/30 rounded-full text-sm font-medium mb-6 animate-slide-up" aria-label="é¡¹ç›®æ ‡ç­¾">
          2025åˆ›ä¸šåœˆå¤§èµ›å‚èµ›é¡¹ç›®
        </div>
        <h1 class="text-5xl md:text-7xl font-bold leading-tight mb-6 tracking-tight animate-slide-up" style="animation-delay: 0.1s">
          å®ˆæŠ¤å®ƒçš„<br>
          <span class="text-primary">æ¯ä¸€æ¬¡å¿ƒè·³</span>ä¸è¶³è¿¹
        </h1>
        <p class="text-xl md:text-2xl mb-10 text-gray-200 max-w-2xl font-light animate-slide-up" style="animation-delay: 0.2s">
          ä¸ä»…ä»…æ˜¯å®šä½å™¨ï¼Œæ›´æ˜¯è¿æ¥å…¨åŸçˆ±å® äººå£«çš„ç”Ÿå‘½å®ˆæŠ¤ç½‘ã€‚<br>
          <span class="font-bold text-white">åŒ—æ–—å®šä½ Â· å¥åº·ç›‘æµ‹ Â· ç¤¾åŒºäº’åŠ©</span>
        </p>
        <div class="flex flex-col sm:flex-row gap-4 animate-slide-up" style="animation-delay: 0.3s">
          <button onclick="document.getElementById('tracking').scrollIntoView({behavior: 'smooth'})" class="bg-primary hover:bg-primaryHover text-white px-8 py-4 rounded-full font-bold text-lg transition-all transform hover:scale-105 shadow-lg shadow-primary/40 flex items-center justify-center relative overflow-hidden group mobile-tap-target" aria-label="æŸ¥çœ‹çˆ±å® ä½ç½®">
            <span class="relative z-10 flex items-center">
              <i class="fa fa-map-marker mr-2" aria-hidden="true"></i> æŸ¥çœ‹çˆ±å® ä½ç½®
            </span>
            <span class="absolute inset-0 bg-white/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500" aria-hidden="true"></span>
          </button>
          <button id="productDemoBtn" class="bg-white/10 backdrop-blur-md border border-white/40 text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-white/20 transition-all flex items-center justify-center mobile-tap-target" aria-label="è§‚çœ‹äº§å“æ¦‚å¿µæ¼”ç¤º">
            <i class="fa fa-play-circle mr-2" aria-hidden="true"></i> äº§å“æ¦‚å¿µæ¼”ç¤º
          </button>
        </div>
        
        <div class="mt-12 flex gap-8 border-t border-white/20 pt-8 animate-fade-in" style="animation-delay: 0.4s" role="list" aria-label="äº§å“ç‰¹è‰²">
          <div role="listitem">
            <p class="text-3xl font-bold text-white">0.1<span class="text-sm font-normal text-gray-300 ml-1">ç±³</span></p>
            <p class="text-sm text-gray-400">å®šä½ç²¾åº¦</p>
          </div>
          <div role="listitem">
            <p class="text-3xl font-bold text-white">30<span class="text-sm font-normal text-gray-300 ml-1">å¤©</span></p>
            <p class="text-sm text-gray-400">è¶…é•¿ç»­èˆª</p>
          </div>
          <div role="listitem">
            <p class="text-3xl font-bold text-white">24<span class="text-sm font-normal text-gray-300 ml-1">h</span></p>
            <p class="text-sm text-gray-400">å¥åº·ç›‘æµ‹</p>
          </div>
          <div role="listitem">
            <p class="text-3xl font-bold text-white">98%<span class="text-sm font-normal text-gray-300 ml-1"></span></p>
            <p class="text-sm text-gray-400">æ‰¾å›ç‡</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- å¥åº·æ•°æ®å›¾è¡¨åŒºåŸŸ -->
  <section class="py-12 bg-white" aria-labelledby="healthDataHeading">
    <div class="container mx-auto px-4">
      <h2 id="healthDataHeading" class="text-3xl font-bold text-center mb-8">å® ç‰©å¥åº·æ•°æ®ç›‘æµ‹</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="bg-neutral p-6 rounded-2xl">
          <h3 class="text-xl font-bold mb-4">å¿ƒç‡è¶‹åŠ¿ (è¿‡å»7å¤©)</h3>
          <div class="h-64" role="img" aria-label="å¿ƒç‡è¶‹åŠ¿å›¾è¡¨">
            <canvas id="heartRateChart"></canvas>
          </div>
          <p class="sr-only">æ­¤å›¾è¡¨æ˜¾ç¤ºäº†è¿‡å»7å¤©å® ç‰©å¿ƒç‡çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¹³å‡å¿ƒç‡åœ¨85BPMå·¦å³</p>
        </div>
        <div class="bg-neutral p-6 rounded-2xl">
          <h3 class="text-xl font-bold mb-4">æ´»åŠ¨é‡ç»Ÿè®¡</h3>
          <div class="h-64" role="img" aria-label="æ´»åŠ¨é‡ç»Ÿè®¡å›¾è¡¨">
            <canvas id="activityChart"></canvas>
          </div>
          <p class="sr-only">æ­¤å›¾è¡¨æ˜¾ç¤ºäº†è¿‡å»7å¤©å® ç‰©çš„æ´»åŠ¨é‡ç»Ÿè®¡ï¼Œå‘¨æœ«æ´»åŠ¨é‡æ˜æ˜¾å¢åŠ </p>
        </div>
      </div>
    </div>
  </section>

  <!-- è¿½è¸ªç³»ç»ŸåŒºåŸŸ -->
  <section id="tracking" class="py-20 bg-white relative overflow-hidden" aria-labelledby="trackingHeading">
    <div class="absolute top-0 right-0 w-1/3 h-full bg-gray-50 skew-x-12 transform translate-x-20 z-0" aria-hidden="true"></div>
    
    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center mb-16">
        <span class="text-primary font-bold tracking-wider uppercase text-sm">HARDWARE & SOFTWARE</span>
        <h2 id="trackingHeading" class="text-4xl font-bold mt-2 mb-4">å…¨åœºæ™¯æ™ºèƒ½è¿½è¸ªç³»ç»Ÿ</h2>
        <p class="text-gray-500 max-w-2xl mx-auto">è½¯ç¡¬ç»“åˆï¼Œæ‰“é€ å® ç‰©å®‰å…¨çš„æœ€åä¸€é“é˜²çº¿ã€‚å¦‚æœå®ƒèµ°ä¸¢äº†ï¼Œæ•´ä¸ªç¤¾åŒºéƒ½ä¼šå¸®æ‚¨å¯»æ‰¾ã€‚</p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
        <div class="lg:col-span-5 space-y-8">
          <div class="bg-neutral p-8 rounded-3xl shadow-sm border border-gray-100 relative group card-hover">
            <div class="absolute top-4 right-4 bg-black text-white text-xs px-2 py-1 rounded font-mono" aria-label="äº§å“å‹å·">MODEL-X PRO</div>
            
            <h3 class="text-2xl font-bold mb-4">ç¬¬å››ä»£æ™ºèƒ½é¡¹åœˆ</h3>
            <ul class="space-y-3" role="list">
              <li class="flex items-center text-gray-700">
                <i class="fa fa-satellite text-primary w-6" aria-hidden="true"></i>
                <span class="font-medium">å››é‡å®šä½ï¼š</span> åŒ—æ–— + GPS + åŸºç«™ + Wi-Fi
              </li>
              <li class="flex items-center text-gray-700">
                <i class="fa fa-battery-full text-green-500 w-6" aria-hidden="true"></i>
                <span class="font-medium">ç»­èˆªæ— å¿§ï¼š</span> ç£å¸å¿«å……ï¼Œå¾…æœº30å¤©
              </li>
              <li class="flex items-center text-gray-700">
                <i class="fa fa-tint text-blue-500 w-6" aria-hidden="true"></i>
                <span class="font-medium">å·¥ä¸šé˜²æŠ¤ï¼š</span> IP68 çº§é˜²å°˜é˜²æ°´
              </li>
            </ul>
          </div>
        </div>
        
        <div class="lg:col-span-7">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:border-primary/30 transition-colors card-hover">
              <div class="w-12 h-12 bg-red-50 rounded-full flex items-center justify-center text-red-500 mb-4" aria-hidden="true">
                <i class="fa fa-bell-o text-xl"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">å¼‚å¸¸è­¦æŠ¥</h4>
              <p class="text-sm text-gray-500">ç¦»å¼€å®‰å…¨å›´æ æˆ–å¿ƒç‡å¼‚å¸¸æ—¶ï¼Œç³»ç»Ÿæ¯«ç§’çº§æ¨é€è­¦æŠ¥ã€‚</p>
            </div>
            
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:border-primary/30 transition-colors card-hover">
               <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-500 mb-4" aria-hidden="true">
                <i class="fa fa-users text-xl"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">ç¤¾åŒºä¼—åŒ…æ•‘æ´</h4>
              <p class="text-sm text-gray-500">ä¸€é”®å‘å¸ƒèµ°å¤±ä¿¡æ¯ï¼Œè‡ªåŠ¨æ¨é€åˆ°æ–¹åœ†3å…¬é‡Œå†…çš„æ‰€æœ‰ç”¨æˆ·ã€‚</p>
            </div>
          </div>

          <div class="bg-gray-900 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl card-hover">
            <div class="absolute inset-0 opacity-20 bg-[url('https://api.mapbox.com/styles/v1/mapbox/dark-v10/static/116.40,39.90,12,0/800x400')] bg-cover bg-center" aria-hidden="true"></div>
            
            <div class="relative z-10 flex flex-col md:flex-row items-center justify-between">
              <div>
                <h3 class="text-2xl font-bold mb-2">å®æ—¶è¿½è¸ªæ§åˆ¶å°</h3>
                <p class="text-gray-400 mb-6">ä½“éªŒçœŸå®çš„æŸ¥æ‰¾æµç¨‹ï¼ŒæŸ¥çœ‹å®æ—¶å¿ƒç‡ä¸è½¨è¿¹ã€‚</p>
                <button id="viewTrackingDemoBtn" class="bg-primary hover:bg-primaryHover text-white px-8 py-3 rounded-full font-bold transition-all shadow-lg shadow-primary/30 flex items-center animate-pulse-slow mobile-tap-target" aria-label="å¯åŠ¨è¿½è¸ªæ¼”ç¤º">
                  <i class="fa fa-crosshairs mr-2" aria-hidden="true"></i> å¯åŠ¨æ¨¡æ‹Ÿæ¼”ç¤º
                </button>
              </div>
              <div class="hidden md:block w-32 h-64 bg-black border-4 border-gray-700 rounded-2xl ml-8 relative shadow-xl transform rotate-6" aria-hidden="true">
                <div class="absolute inset-0 bg-gray-800 rounded-xl overflow-hidden flex items-center justify-center">
                  <i class="fa fa-map text-gray-600 text-4xl" aria-hidden="true"></i>
                  <div class="absolute w-3 h-3 bg-primary rounded-full top-1/2 left-1/2 shadow-lg shadow-primary animate-ping" aria-hidden="true"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- åŒ»ç–—æœåŠ¡åŒºåŸŸ -->
  <section id="medical" class="py-20 bg-gray-50" aria-labelledby="medicalHeading">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <span class="text-primary font-bold tracking-wider uppercase text-sm">MEDICAL SERVICES</span>
        <h2 id="medicalHeading" class="text-4xl font-bold mt-2 mb-4">å® ç‰©åŒ»ç–—æœåŠ¡å¹³å°</h2>
        <p class="text-gray-500 max-w-2xl mx-auto">è¿æ¥å…¨å›½è¶…è¿‡5,000å®¶è®¤è¯å® ç‰©åŒ»é™¢ï¼Œæä¾›24å°æ—¶åœ¨çº¿é—®è¯Šå’Œç´§æ€¥æ•‘æ´æœåŠ¡ã€‚</p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 card-hover">
          <div class="w-16 h-16 bg-green-50 rounded-full flex items-center justify-center text-green-500 mb-6" aria-hidden="true">
            <i class="fa fa-stethoscope text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-4">åœ¨çº¿é—®è¯Š</h3>
          <p class="text-gray-600 mb-6">300+ä¸“ä¸šå…½åŒ»åœ¨çº¿ï¼Œå¹³å‡å“åº”æ—¶é—´2åˆ†é’Ÿï¼Œè§£å†³90%å¸¸è§é—®é¢˜ã€‚</p>
          <button class="bg-primary hover:bg-primaryHover text-white px-6 py-2 rounded-full text-sm font-medium transition-colors relative overflow-hidden group mobile-tap-target" aria-label="ç«‹å³å’¨è¯¢å…½åŒ»">
            <span class="relative z-10">ç«‹å³å’¨è¯¢</span>
            <span class="absolute inset-0 bg-white/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300" aria-hidden="true"></span>
          </button>
        </div>
        
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 card-hover">
          <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center text-blue-500 mb-6" aria-hidden="true">
            <i class="fa fa-ambulance text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-4">ç´§æ€¥æ•‘æ´</h3>
          <p class="text-gray-600 mb-6">è¦†ç›–å…¨å›½200+åŸå¸‚ï¼Œå¹³å‡åˆ°è¾¾æ—¶é—´15åˆ†é’Ÿï¼ŒæˆåŠŸæ•‘åŠ©ç‡98.5%ã€‚</p>
          <button class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full text-sm font-medium transition-colors mobile-tap-target" aria-label="ç´§æ€¥å‘¼å«æ•‘æ´">
            ç´§æ€¥å‘¼å«
          </button>
        </div>
        
        <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 card-hover">
          <div class="w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center text-purple-500 mb-6" aria-hidden="true">
            <i class="fa fa-calendar text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-4">å¥åº·ç®¡ç†</h3>
          <p class="text-gray-600 mb-6">æ™ºèƒ½æé†’ç–«è‹—æ¥ç§ã€é©±è™«ç­‰æ—¥ç¨‹ï¼Œé™ä½å® ç‰©æ‚£ç—…é£é™©70%ã€‚</p>
          <button class="bg-primary hover:bg-primaryHover text-white px-6 py-2 rounded-full text-sm font-medium transition-colors mobile-tap-target" aria-label="ç®¡ç†å® ç‰©å¥åº·æ—¥ç¨‹">
            ç®¡ç†æ—¥ç¨‹
          </button>
        </div>
      </div>
      
      <div class="bg-white rounded-2xl shadow-sm overflow-hidden card-hover">
        <div class="p-6 border-b border-gray-100">
          <h3 class="text-xl font-bold flex items-center">
            <i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i> é™„è¿‘å® ç‰©åŒ»é™¢
          </h3>
          <p class="text-gray-500 text-sm">åŸºäºæ‚¨çš„ä½ç½®ï¼Œä¸ºæ‚¨æ¨èé™„è¿‘çš„ä¼˜è´¨å® ç‰©åŒ»é™¢</p>
        </div>
        
        <div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" role="list" aria-label="é™„è¿‘å® ç‰©åŒ»é™¢åˆ—è¡¨">
          <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow card-hover" role="listitem">
            <div class="flex justify-between items-start mb-3">
              <h4 class="font-bold">çˆ±å¿ƒå® ç‰©åŒ»é™¢</h4>
              <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">24å°æ—¶</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-2">
              <i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i>
              <span>æœé˜³åŒºå»ºå›½è·¯128å·</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <i class="fa fa-phone text-primary mr-2" aria-hidden="true"></i>
              <span>010-87654321</span>
            </div>
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <i class="fa fa-star text-yellow-400 mr-1" aria-hidden="true"></i>
                <span class="font-medium">4.8</span>
                <span class="text-gray-400 text-sm ml-1">(256è¯„ä»·)</span>
              </div>
              <span class="text-primary font-medium">1.2km</span>
            </div>
          </div>
          
          <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow card-hover" role="listitem">
            <div class="flex justify-between items-start mb-3">
              <h4 class="font-bold">åº·è´å® ç‰©åŒ»ç–—ä¸­å¿ƒ</h4>
              <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">ä¸“ç§‘</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-2">
              <i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i>
              <span>æµ·æ·€åŒºä¸­å…³æ‘å¤§è¡—56å·</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <i class="fa fa-phone text-primary mr-2" aria-hidden="true"></i>
              <span>010-76543210</span>
            </div>
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <i class="fa fa-star text-yellow-400 mr-1" aria-hidden="true"></i>
                <span class="font-medium">4.9</span>
                <span class="text-gray-400 text-sm ml-1">(189è¯„ä»·)</span>
              </div>
              <span class="text-primary font-medium">2.5km</span>
            </div>
          </div>
          
          <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow card-hover" role="listitem">
            <div class="flex justify-between items-start mb-3">
              <h4 class="font-bold">å® ç‰©æ€¥è¯Šä¸­å¿ƒ</h4>
              <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">æ€¥è¯Š</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-2">
              <i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i>
              <span>ä¸œåŸåŒºç‹åºœäº•å¤§è¡—88å·</span>
            </div>
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <i class="fa fa-phone text-primary mr-2" aria-hidden="true"></i>
              <span>010-88889999</span>
            </div>
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <i class="fa fa-star text-yellow-400 mr-1" aria-hidden="true"></i>
                <span class="font-medium">4.7</span>
                <span class="text-gray-400 text-sm ml-1">(342è¯„ä»·)</span>
              </div>
              <span class="text-primary font-medium">3.1km</span>
            </div>
          </div>
        </div>
        
        <div class="p-6 border-t border-gray-100 text-center">
          <button class="text-primary hover:text-primaryHover font-medium flex items-center justify-center mx-auto mobile-tap-target" aria-label="æŸ¥çœ‹å…¨éƒ¨é™„è¿‘åŒ»é™¢">
            <span>æŸ¥çœ‹å…¨éƒ¨82å®¶é™„è¿‘åŒ»é™¢</span>
            <i class="fa fa-chevron-right ml-2" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- å•†åŸåŒºåŸŸ -->
  <section id="shop" class="py-20 bg-white" aria-labelledby="shopHeading">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <span class="text-primary font-bold tracking-wider uppercase text-sm">PRODUCT STORE</span>
        <h2 id="shopHeading" class="text-4xl font-bold mt-2 mb-4">å® ç‰©æ™ºèƒ½äº§å“å•†åŸ</h2>
        <p class="text-gray-500 max-w-2xl mx-auto">ç²¾é€‰ä¼˜è´¨å® ç‰©æ™ºèƒ½äº§å“ï¼Œæå‡å® ç‰©ç”Ÿæ´»å“è´¨ï¼Œè®©å…»å® æ›´è½»æ¾ã€‚</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12" role="list" aria-label="å® ç‰©æ™ºèƒ½äº§å“åˆ—è¡¨">
        <!-- äº§å“1 -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden card-hover" role="listitem">
          <div class="h-48 skeleton relative">
            <img data-src="https://images.unsplash.com/photo-1589927986089-35812388d1f4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="æ™ºèƒ½é¡¹åœˆäº§å“å›¾ç‰‡" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
            <div class="absolute top-3 right-3 bg-primary text-white px-2 py-1 rounded text-xs font-bold">
              æ–°å“
            </div>
          </div>
          <div class="p-6">
            <h3 class="font-bold text-lg mb-2">æ™ºèƒ½é¡¹åœˆ Model-X Pro</h3>
            <p class="text-gray-500 text-sm mb-4">å››é‡å®šä½ï¼Œ30å¤©ç»­èˆªï¼ŒIP68é˜²æ°´</p>
            <div class="flex justify-between items-center">
              <span class="text-xl font-bold text-primary">Â¥399</span>
              <button class="bg-primary hover:bg-primaryHover text-white px-4 py-2 rounded-full text-sm font-medium transition-colors add-to-cart mobile-tap-target" 
                      data-product='{"id":1,"name":"æ™ºèƒ½é¡¹åœˆ Model-X Pro","price":399,"image":"https://images.unsplash.com/photo-1589927986089-35812388d1f4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}' 
                      aria-label="å°†æ™ºèƒ½é¡¹åœˆåŠ å…¥è´­ç‰©è½¦">
                åŠ å…¥è´­ç‰©è½¦
              </button>
            </div>
          </div>
        </div>
        
        <!-- äº§å“2 -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden card-hover" role="listitem">
          <div class="h-48 skeleton">
            <img data-src="https://images.unsplash.com/photo-1559056199-641a0ac8b55e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="æ™ºèƒ½å–‚é£Ÿå™¨äº§å“å›¾ç‰‡" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
          </div>
          <div class="p-6">
            <h3 class="font-bold text-lg mb-2">æ™ºèƒ½å–‚é£Ÿå™¨</h3>
            <p class="text-gray-500 text-sm mb-4">å®šæ—¶å®šé‡ï¼Œæ‰‹æœºè¿œç¨‹æ§åˆ¶</p>
            <div class="flex justify-between items-center">
              <span class="text-xl font-bold text-primary">Â¥259</span>
              <button class="bg-primary hover:bg-primaryHover text-white px-4 py-2 rounded-full text-sm font-medium transition-colors add-to-cart mobile-tap-target" 
                      data-product='{"id":2,"name":"æ™ºèƒ½å–‚é£Ÿå™¨","price":259,"image":"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}' 
                      aria-label="å°†æ™ºèƒ½å–‚é£Ÿå™¨åŠ å…¥è´­ç‰©è½¦">
                åŠ å…¥è´­ç‰©è½¦
              </button>
            </div>
          </div>
        </div>
        
        <!-- äº§å“3 -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden card-hover" role="listitem">
          <div class="h-48 skeleton">
            <img data-src="https://images.unsplash.com/photo-1596273315327-1fadff6c9dab?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="æ™ºèƒ½é¥®æ°´æœºäº§å“å›¾ç‰‡" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
          </div>
          <div class="p-6">
            <h3 class="font-bold text-lg mb-2">æ™ºèƒ½é¥®æ°´æœº</h3>
            <p class="text-gray-500 text-sm mb-4">3é‡è¿‡æ»¤ï¼Œé™éŸ³è®¾è®¡ï¼ŒUVæ€èŒ</p>
            <div class="flex justify-between items-center">
              <span class="text-xl font-bold text-primary">Â¥189</span>
              <button class="bg-primary hover:bg-primaryHover text-white px-4 py-2 rounded-full text-sm font-medium transition-colors add-to-cart mobile-tap-target" 
                      data-product='{"id":3,"name":"æ™ºèƒ½é¥®æ°´æœº","price":189,"image":"https://images.unsplash.com/photo-1596273315327-1fadff6c9dab?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}' 
                      aria-label="å°†æ™ºèƒ½é¥®æ°´æœºåŠ å…¥è´­ç‰©è½¦">
                åŠ å…¥è´­ç‰©è½¦
              </button>
            </div>
          </div>
        </div>
        
        <!-- äº§å“4 -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden card-hover" role="listitem">
          <div class="h-48 skeleton">
            <img data-src="https://images.unsplash.com/photo-1567599754056-8e5d824b9c8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="å® ç‰©æ‘„åƒå¤´äº§å“å›¾ç‰‡" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
          </div>
          <div class="p-6">
            <h3 class="font-bold text-lg mb-2">å® ç‰©æ‘„åƒå¤´</h3>
            <p class="text-gray-500 text-sm mb-4">1080Pé«˜æ¸…ï¼ŒåŒå‘è¯­éŸ³ï¼Œç§»åŠ¨è¿½è¸ª</p>
            <div class="flex justify-between items-center">
              <span class="text-xl font-bold text-primary">Â¥329</span>
              <button class="bg-primary hover:bg-primaryHover text-white px-4 py-2 rounded-full text-sm font-medium transition-colors add-to-cart mobile-tap-target" 
                      data-product='{"id":4,"name":"å® ç‰©æ‘„åƒå¤´","price":329,"image":"https://images.unsplash.com/photo-1567599754056-8e5d824b9c8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"}' 
                      aria-label="å°†å® ç‰©æ‘„åƒå¤´åŠ å…¥è´­ç‰©è½¦">
                åŠ å…¥è´­ç‰©è½¦
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center">
        <button id="viewShopBtn" class="bg-primary hover:bg-primaryHover text-white px-8 py-3 rounded-full font-bold transition-all shadow-lg shadow-primary/30 flex items-center mx-auto mobile-tap-target" aria-label="è¿›å…¥å•†åŸ">
          <i class="fa fa-shopping-cart mr-2" aria-hidden="true"></i> è¿›å…¥å•†åŸ
        </button>
      </div>
    </div>
  </section>

  <!-- ç¤¾åŒºåŒºåŸŸ -->
  <section id="community" class="py-16 bg-gray-50" aria-labelledby="communityHeading">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-end mb-10">
        <div>
          <h2 id="communityHeading" class="text-3xl font-bold mb-2">æ´»è·ƒç¤¾åŒº</h2>
          <p class="text-gray-500">ä¸ä»…æ˜¯åˆ†äº«ï¼Œæ›´æ˜¯æ•‘æ´åŠ›é‡</p>
        </div>
        <a href="#" class="text-primary font-medium hover:underline mobile-tap-target" aria-label="æŸ¥çœ‹æ›´å¤šç¤¾åŒºå†…å®¹">æŸ¥çœ‹æ›´å¤š <i class="fa fa-arrow-right" aria-hidden="true"></i></a>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6" role="list" aria-label="ç¤¾åŒºåŠ¨æ€åˆ—è¡¨">
        <div class="bg-white rounded-2xl overflow-hidden shadow-sm card-hover" role="listitem">
          <div class="h-48 skeleton relative">
            <img data-src="https://images.unsplash.com/photo-1541364983171-a8ba01e95cfc?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="å‘¨æœ«ç‹—ç‹—èšä¼šçš„åœºæ™¯" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
            <div class="absolute top-3 right-3 bg-white/90 px-2 py-1 rounded text-xs font-bold text-gray-800">
              <i class="fa fa-map-marker text-primary mr-1" aria-hidden="true"></i>æœé˜³å…¬å›­
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-bold text-lg mb-2">å‘¨æœ«ç‹—ç‹—èšä¼š</h3>
            <p class="text-gray-500 text-sm mb-4">ä»Šå¤©å¸¦ç…¤çƒå»å…¬å›­ï¼Œè®¤è¯†äº†å¥½å¤šæ–°æœ‹å‹ï¼</p>
            <div class="flex justify-between items-center text-sm text-gray-400">
              <div class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-gray-300 mr-2" aria-hidden="true"></div>
                <span>é“²å±å®˜å°ç‹</span>
              </div>
              <span><i class="fa fa-heart text-red-500" aria-hidden="true"></i> 128</span>
            </div>
          </div>
        </div>
        
        <div class="bg-white rounded-2xl overflow-hidden shadow-sm card-hover border-2 border-green-50" role="listitem">
          <div class="h-48 skeleton relative">
            <img data-src="https://images.unsplash.com/photo-1560807707-8cc77767d783?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="å·²æ‰¾å›çš„å® ç‰©" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
            <div class="absolute top-3 right-3 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold">
              <i class="fa fa-check mr-1" aria-hidden="true"></i>å·²æ‰¾å›
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-bold text-lg mb-2 text-green-700">æ„Ÿè°¢ç¤¾åŒºçš„æœ‹å‹ä»¬ï¼</h3>
            <p class="text-gray-500 text-sm mb-4">é€šè¿‡å¤§å®¶çš„å®šä½æ¥åŠ›ï¼Œ2å°æ—¶å°±æ‰¾å›äº†æˆ‘çš„è´è´ï¼Œå¤ªæ„ŸåŠ¨äº†ï¼</p>
            <div class="flex justify-between items-center text-sm text-gray-400">
              <div class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-gray-300 mr-2" aria-hidden="true"></div>
                <span>æ—å¥³å£«</span>
              </div>
              <span><i class="fa fa-comment" aria-hidden="true"></i> 56</span>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-2xl overflow-hidden shadow-sm card-hover" role="listitem">
          <div class="h-48 skeleton">
            <img data-src="https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                 alt="å¯çˆ±çš„çŒ«å’ªç¡å§¿" 
                 class="absolute inset-0 w-full h-full object-cover lazy-image hidden">
          </div>
          <div class="p-5">
            <h3 class="font-bold text-lg mb-2">è¿™ç¡å§¿æ²¡è°äº†</h3>
            <p class="text-gray-500 text-sm mb-4">è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æ¶²ä½“çŒ«å—ï¼Ÿ</p>
            <div class="flex justify-between items-center text-sm text-gray-400">
              <div class="flex items-center">
                <div class="w-6 h-6 rounded-full bg-gray-300 mr-2" aria-hidden="true"></div>
                <span>çŒ«å¥´ä¸€å·</span>
              </div>
              <span><i class="fa fa-heart text-red-500" aria-hidden="true"></i> 89</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- å®‰è£…PWAæç¤º -->
  <div id="pwaInstallPrompt" class="fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-white rounded-lg shadow-2xl border border-gray-200 z-[9999] p-4 hidden animate-slide-up" role="dialog" aria-labelledby="pwaInstallTitle" aria-describedby="pwaInstallDesc">
    <div class="flex items-start">
      <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3 flex-shrink-0" aria-hidden="true">
        <i class="fa fa-paw text-primary"></i>
      </div>
      <div class="flex-1">
        <h3 id="pwaInstallTitle" class="font-bold text-gray-800">å®‰è£…å® ç‰©æ—¥æŠ¥åº”ç”¨</h3>
        <p id="pwaInstallDesc" class="text-sm text-gray-600 mt-1">æ·»åŠ åˆ°ä¸»å±å¹•ï¼Œéšæ—¶éšåœ°å®ˆæŠ¤çˆ±å® </p>
        <div class="flex mt-3">
          <button id="installPWAButton" class="bg-primary hover:bg-primaryHover text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex-1 mr-2 mobile-tap-target" aria-label="æ·»åŠ åˆ°ä¸»å±å¹•">
            æ·»åŠ åˆ°ä¸»å±å¹•
          </button>
          <button id="dismissPWAButton" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors mobile-tap-target" aria-label="ç¨åæé†’">
            ç¨å
          </button>
        </div>
      </div>
      <button id="closePWAButton" class="text-gray-400 hover:text-gray-600 ml-2 mobile-tap-target" aria-label="å…³é—­å®‰è£…æç¤º">
        <i class="fa fa-times"></i>
      </button>
    </div>
  </div>

  <!-- CTAåŒºåŸŸ -->
  <section class="py-20 bg-dark text-white text-center" aria-labelledby="ctaHeading">
    <div class="container mx-auto px-4">
      <h2 id="ctaHeading" class="text-3xl md:text-4xl font-bold mb-6">ç»™çˆ±å® ä¸€ä»½æ›´ä¸“ä¸šçš„å®ˆæŠ¤</h2>
      <p class="text-gray-400 mb-8 max-w-xl mx-auto">ç«‹å³åŠ å…¥æˆ‘ä»¬ï¼Œä½“éªŒç§‘æŠ€å¸¦æ¥çš„å®‰å…¨æ„Ÿã€‚</p>
      <button class="bg-primary hover:bg-primaryHover text-white px-10 py-4 rounded-full font-bold text-lg shadow-lg transition-all transform hover:scale-105 relative overflow-hidden group mobile-tap-target" aria-label="ç«‹å³è·å–å® ç‰©æ™ºèƒ½è®¾å¤‡">
        <span class="relative z-10">ç«‹å³è·å–è®¾å¤‡</span>
        <span class="absolute inset-0 bg-white/10 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500" aria-hidden="true"></span>
      </button>
      
      <!-- PWAå®‰è£…æŒ‰é’® -->
      <div class="mt-6">
        <button id="manualInstallBtn" class="text-gray-300 hover:text-white text-sm underline hidden mobile-tap-target" aria-label="å®‰è£…åº”ç”¨åˆ°è®¾å¤‡">
          æˆ–è€…å®‰è£…åˆ°æ‚¨çš„è®¾å¤‡
        </button>
      </div>
    </div>
  </section>
</main>

<footer class="bg-black text-gray-500 py-10" role="contentinfo">
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row justify-between items-center">
      <div class="mb-6 md:mb-0">
        <div class="flex items-center space-x-2 mb-4">
          <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white text-sm font-bold" aria-hidden="true">
            <i class="fa fa-paw"></i>
          </div>
          <span class="text-lg font-bold text-white">å® ç‰©æ—¥æŠ¥</span>
        </div>
        <p class="text-sm">Â© 2025 å® ç‰©æ—¥æŠ¥ | åˆ›ä¸šå¤§èµ›æ¼”ç¤ºé¡¹ç›®</p>
        <p class="text-xs text-gray-600 mt-1">æœ¬é¡µé¢å·²ä¸ºPWAä¼˜åŒ–ï¼Œæ”¯æŒç¦»çº¿è®¿é—®</p>
      </div>
      
      <div class="text-center md:text-right">
        <p class="text-sm mb-4">å°†æ­¤é¡µé¢ä¸‹è½½ä¸ºWordæ–‡æ¡£</p>
        <button id="downloadWordBtn" class="bg-primary hover:bg-primaryHover text-white px-6 py-2 rounded-full font-medium transition-colors flex items-center mx-auto md:mx-0 mobile-tap-target" aria-label="ä¸‹è½½Wordæ–‡æ¡£">
          <i class="fa fa-download mr-2" aria-hidden="true"></i> ä¸‹è½½Wordæ–‡æ¡£
        </button>
      </div>
    </div>
  </div>
</footer>

<!-- è¿½è¸ªæ¼”ç¤ºæ¨¡æ€æ¡† -->
<div id="trackingDemoModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="trackingDemoTitle">
  <div class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
    <div class="p-6 border-b border-gray-200 flex justify-between items-center">
      <h3 id="trackingDemoTitle" class="text-2xl font-bold flex items-center">
        <i class="fa fa-map-marker text-primary mr-2" aria-hidden="true"></i>
        å® ç‰©å®æ—¶è¿½è¸ªæ¼”ç¤º
      </h3>
      <button id="closeTrackingDemoBtn" class="text-gray-400 hover:text-gray-600 text-2xl transition-colors mobile-tap-target" aria-label="å…³é—­è¿½è¸ªæ¼”ç¤º">
        <i class="fa fa-times" aria-hidden="true"></i>
      </button>
    </div>
    
    <div class="p-6">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2">
          <div class="bg-gray-900 rounded-2xl p-4 h-64 relative overflow-hidden" role="img" aria-label="å® ç‰©è¿½è¸ªåœ°å›¾">
            <!-- æ¨¡æ‹Ÿåœ°å›¾ -->
            <div class="absolute inset-0 bg-gray-800">
              <!-- æ¨¡æ‹Ÿåœ°å›¾ç‚¹ -->
              <div class="absolute w-4 h-4 bg-primary rounded-full shadow-lg shadow-primary/50 animate-pulse" id="petMarker" style="top: 40%; left: 30%;" aria-label="å® ç‰©å½“å‰ä½ç½®"></div>
              <!-- æ¨¡æ‹Ÿè·¯å¾„ -->
              <div class="absolute w-24 h-1 bg-primary/50 transform rotate-45" style="top: 42%; left: 33%;" aria-hidden="true"></div>
              <!-- æ¨¡æ‹Ÿå®‰å…¨åŒºåŸŸ -->
              <div class="absolute w-32 h-32 border-2 border-green-500/30 rounded-full" style="top: 50%; left: 50%; transform: translate(-50%, -50%);" aria-label="å®‰å…¨åŒºåŸŸèŒƒå›´"></div>
            </div>
            <div class="relative z-10 text-white">
              <div class="flex justify-between">
                <div>
                  <p class="text-sm text-gray-400">å½“å‰ä½ç½®</p>
                  <p class="font-mono">116.404, 39.915</p>
                </div>
                <div>
                  <p class="text-sm text-gray-400">é€Ÿåº¦</p>
                  <p class="font-mono">1.2 m/s</p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="mt-4 grid grid-cols-2 gap-4">
            <div class="bg-neutral p-4 rounded-xl">
              <p class="text-sm text-gray-500">å®‰å…¨çŠ¶æ€</p>
              <p class="text-green-600 font-bold flex items-center">
                <i class="fa fa-check-circle mr-2" aria-hidden="true"></i>
                æ­£å¸¸
              </p>
            </div>
            <div class="bg-neutral p-4 rounded-xl">
              <p class="text-sm text-gray-500">è·ç¦»å®‰å…¨åŒºåŸŸ</p>
              <p class="font-bold">120m</p>
            </div>
          </div>
        </div>
        
        <div class="space-y-4">
          <div class="bg-neutral p-4 rounded-xl">
            <h4 class="font-bold mb-2">å®æ—¶æ•°æ®</h4>
            <div class="space-y-2">
              <div class="flex justify-between">
                <span class="text-gray-600">å¿ƒç‡</span>
                <span class="font-bold">85 BPM</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">ä½“æ¸©</span>
                <span class="font-bold">38.2Â°C</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">æ´»åŠ¨é‡</span>
                <span class="font-bold">ä¸­åº¦</span>
              </div>
            </div>
          </div>
          
          <div class="bg-neutral p-4 rounded-xl">
            <h4 class="font-bold mb-2">æ§åˆ¶é¢æ¿</h4>
            <div class="space-y-2">
              <button id="startSimulationBtn" class="w-full bg-primary hover:bg-primaryHover text-white py-2 rounded-lg transition-colors mobile-tap-target" aria-label="å¼€å§‹æ¨¡æ‹Ÿè¿½è¸ª">
                å¼€å§‹æ¨¡æ‹Ÿè¿½è¸ª
              </button>
              <button id="simulateAlertBtn" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg transition-colors mobile-tap-target" aria-label="æ¨¡æ‹Ÿå¼‚å¸¸è­¦æŠ¥">
                æ¨¡æ‹Ÿå¼‚å¸¸è­¦æŠ¥
              </button>
              <button id="simulateLostBtn" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg transition-colors mobile-tap-target" aria-label="æ¨¡æ‹Ÿå® ç‰©èµ°å¤±">
                æ¨¡æ‹Ÿèµ°å¤±
              </button>
            </div>
          </div>
          
          <div class="bg-neutral p-4 rounded-xl">
            <h4 class="font-bold mb-2">è®¾å¤‡ä¿¡æ¯</h4>
            <div class="space-y-1">
              <p class="text-sm text-gray-600">ç”µé‡ï¼š<span class="font-bold text-green-600">85%</span></p>
              <p class="text-sm text-gray-600">ä¿¡å·å¼ºåº¦ï¼š<span class="font-bold">å¼º</span></p>
              <p class="text-sm text-gray-600">æœ€åæ›´æ–°ï¼š<span class="font-mono">åˆšåˆš</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- äº§å“æ¼”ç¤ºæ¨¡æ€æ¡† -->
<div id="productDemoModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="productDemoTitle">
  <div class="bg-white rounded-3xl max-w-3xl w-full max-h-[90vh] overflow-hidden">
    <div class="p-6 border-b border-gray-200 flex justify-between items-center">
      <h3 id="productDemoTitle" class="text-2xl font-bold flex items-center">
        <i class="fa fa-play-circle text-primary mr-2" aria-hidden="true"></i>
        äº§å“æ¦‚å¿µæ¼”ç¤º
      </h3>
      <button id="closeProductDemoBtn" class="text-gray-400 hover:text-gray-600 text-2xl transition-colors mobile-tap-target" aria-label="å…³é—­äº§å“æ¼”ç¤º">
        <i class="fa fa-times" aria-hidden="true"></i>
      </button>
    </div>
    
    <div class="p-8 text-center">
      <div class="w-32 h-32 mx-auto mb-6 relative" aria-hidden="true">
        <div class="absolute inset-0 bg-primary/10 rounded-full animate-ping"></div>
        <div class="absolute inset-4 bg-primary/20 rounded-full flex items-center justify-center">
          <i class="fa fa-play text-4xl text-white"></i>
        </div>
      </div>
      
      <h4 class="text-xl font-bold mb-4">å® ç‰©æ—¥æŠ¥å…¨ç”Ÿæ€æ¼”ç¤º</h4>
      <p class="text-gray-600 mb-8 max-w-xl mx-auto">
        è§‚çœ‹2åˆ†é’Ÿçš„äº§å“ä»‹ç»è§†é¢‘ï¼Œäº†è§£å® ç‰©æ—¥æŠ¥å¦‚ä½•é€šè¿‡æ™ºèƒ½ç¡¬ä»¶ã€è½¯ä»¶å¹³å°å’Œç¤¾åŒºç½‘ç»œï¼Œä¸ºæ‚¨çš„çˆ±å® æä¾›å…¨æ–¹ä½çš„å®ˆæŠ¤ã€‚
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8" role="list" aria-label="äº§å“ç‰¹ç‚¹">
        <div class="p-4 bg-primary/5 rounded-xl" role="listitem">
          <i class="fa fa-satellite text-2xl text-primary mb-2" aria-hidden="true"></i>
          <p class="font-bold">ç²¾å‡†å®šä½</p>
        </div>
        <div class="p-4 bg-primary/5 rounded-xl" role="listitem">
          <i class="fa fa-heartbeat text-2xl text-primary mb-2" aria-hidden="true"></i>
          <p class="font-bold">å¥åº·ç›‘æµ‹</p>
        </div>
        <div class="p-4 bg-primary/5 rounded-xl" role="listitem">
          <i class="fa fa-users text-2xl text-primary mb-2" aria-hidden="true"></i>
          <p class="font-bold">ç¤¾åŒºäº’åŠ©</p>
        </div>
      </div>
      
      <button class="bg-primary hover:bg-primaryHover text-white px-8 py-3 rounded-full font-bold transition-all shadow-lg shadow-primary/30 flex items-center mx-auto mobile-tap-target" aria-label="æ’­æ”¾äº§å“æ¼”ç¤ºè§†é¢‘">
        <i class="fa fa-play mr-2" aria-hidden="true"></i> æ’­æ”¾æ¼”ç¤ºè§†é¢‘
      </button>
    </div>
  </div>
</div>

<!-- éª¨æ¶å±æ¨¡æ¿ -->
<template id="skeletonTemplate">
  <div class="skeleton rounded-lg"></div>
</template>

<script>
  // åˆå§‹åŒ–åº”ç”¨
  document.addEventListener('DOMContentLoaded', function() {
    // éšè—é¡µé¢åŠ è½½åŠ¨ç”»
    setTimeout(() => {
      const pageLoader = document.getElementById('pageLoader');
      pageLoader.classList.add('opacity-0');
      setTimeout(() => {
        pageLoader.style.display = 'none';
        document.getElementById('loadingText').textContent = 'é¡µé¢åŠ è½½å®Œæˆ';
      }, 500);
    }, 800);
    
    // åˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶
    initNavbar();
    initShoppingCart();
    initCharts();
    initTrackingDemo();
    initProductDemo();
    initLazyLoading();
    initPWA();
    initDownloadWord();
    
    // è§¦å‘åŠ¨ç”»
    setTimeout(() => {
      document.querySelectorAll('.animate-fade-in, .animate-slide-up').forEach(el => {
        el.style.opacity = '1';
        el.style.transform = 'translateY(0)';
      });
    }, 100);
  });

  // å¯¼èˆªæ åŠŸèƒ½ - ä¼˜åŒ–ç§»åŠ¨ç«¯èœå•äº¤äº’
  function initNavbar() {
    const navbar = document.getElementById('navbar');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileMenuLinks = mobileMenu.querySelectorAll('a, button');
    const userMenuButton = document.getElementById('userMenuButton');
    const userMenu = userMenuButton?.nextElementSibling;
    
    // æ»šåŠ¨æ•ˆæœ
    window.addEventListener('scroll', function() {
      if (window.scrollY > 20) {
        navbar.classList.add('shadow-md', 'py-2');
        navbar.classList.remove('py-3');
      } else {
        navbar.classList.remove('shadow-md', 'py-2');
        navbar.classList.add('py-3');
      }
    });

    // ç§»åŠ¨ç«¯èœå• - ä¼˜åŒ–äº¤äº’
    mobileMenuBtn.addEventListener('click', function() {
      const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';
      toggleMobileMenu(!isExpanded);
    });

    // ç‚¹å‡»ç§»åŠ¨ç«¯èœå•é¡¹åè‡ªåŠ¨å…³é—­èœå•
    mobileMenuLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        // å¦‚æœç‚¹å‡»çš„æ˜¯é“¾æ¥ï¼ˆä¸æ˜¯æŒ‰é’®ï¼‰ï¼Œåˆ™å…³é—­èœå•
        if (this.tagName === 'A') {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId.startsWith('#')) {
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: 'smooth' });
            }
          }
          
          // å»¶è¿Ÿå…³é—­èœå•ï¼Œè®©ç”¨æˆ·çœ‹åˆ°ç‚¹å‡»åé¦ˆ
          setTimeout(() => {
            toggleMobileMenu(false);
          }, 300);
        }
      });
    });

    // ç‚¹å‡»å¤–éƒ¨å…³é—­ç§»åŠ¨èœå•
    document.addEventListener('click', function(event) {
      // å…³é—­ç§»åŠ¨ç«¯èœå•
      if (!mobileMenu.contains(event.target) && 
          !mobileMenuBtn.contains(event.target) && 
          !mobileMenuBtn.contains(event.target.closest('button'))) {
        toggleMobileMenu(false);
      }
      
      // å…³é—­ç”¨æˆ·èœå•
      if (userMenu && userMenuButton && !userMenu.contains(event.target) && 
          !userMenuButton.contains(event.target)) {
        userMenu.classList.add('hidden');
        userMenuButton.setAttribute('aria-expanded', 'false');
      }
    });

    // ç”¨æˆ·èœå•äº¤äº’
    if (userMenuButton && userMenu) {
      userMenuButton.addEventListener('click', function(e) {
        e.stopPropagation();
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', !isExpanded);
        userMenu.classList.toggle('hidden');
        
        // å¦‚æœæ‰“å¼€ç”¨æˆ·èœå•ï¼Œå…³é—­ç§»åŠ¨ç«¯èœå•
        if (!isExpanded) {
          toggleMobileMenu(false);
        }
      });
      
      // ç”¨æˆ·èœå•é¡¹ç‚¹å‡»
      userMenu.querySelectorAll('a').forEach(item => {
        item.addEventListener('click', () => {
          userMenu.classList.add('hidden');
          userMenuButton.setAttribute('aria-expanded', 'false');
        });
      });
    }

    // åˆ‡æ¢ç§»åŠ¨ç«¯èœå•å‡½æ•°
    function toggleMobileMenu(show) {
      if (show) {
        mobileMenu.classList.remove('hidden');
        mobileMenu.classList.add('mobile-menu-enter');
        mobileMenuBtn.setAttribute('aria-expanded', 'true');
        mobileMenuBtn.innerHTML = '<i class="fa fa-times" aria-hidden="true"></i>';
        
        // å…³é—­ç”¨æˆ·èœå•
        if (userMenu && userMenuButton) {
          userMenu.classList.add('hidden');
          userMenuButton.setAttribute('aria-expanded', 'false');
        }
        
        // ç¦æ­¢èƒŒæ™¯æ»šåŠ¨
        document.body.style.overflow = 'hidden';
      } else {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileMenuBtn.innerHTML = '<i class="fa fa-bars" aria-hidden="true"></i>';
        
        // æ¢å¤èƒŒæ™¯æ»šåŠ¨
        document.body.style.overflow = '';
      }
    }
    
    // ESCé”®å…³é—­èœå•
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        toggleMobileMenu(false);
        if (userMenu && !userMenu.classList.contains('hidden')) {
          userMenu.classList.add('hidden');
          userMenuButton.setAttribute('aria-expanded', 'false');
        }
      }
    });
  }

  // è´­ç‰©è½¦ç³»ç»Ÿ
  function initShoppingCart() {
    let cart = JSON.parse(localStorage.getItem('petdaily_cart')) || [];
    const cartBtn = document.getElementById('cartBtn');
    const mobileCartBtn = document.getElementById('mobileCartBtn');
    const cartSidebar = document.getElementById('cartSidebar');
    const cartOverlay = document.getElementById('cartOverlay');
    const closeCartBtn = document.getElementById('closeCartBtn');
    const cartItemsContainer = document.getElementById('cartItemsContainer');
    const cartItemCount = document.getElementById('cartItemCount');
    const cartBadge = document.getElementById('cartBadge');
    const cartTotal = document.getElementById('cartTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const emptyCartMessage = document.getElementById('emptyCartMessage');
    
    // æ›´æ–°è´­ç‰©è½¦æ˜¾ç¤º
    function updateCartDisplay() {
      const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      // æ›´æ–°æ•°é‡
      cartItemCount.textContent = itemCount;
      cartBadge.textContent = itemCount;
      
      if (itemCount > 0) {
        cartBadge.classList.remove('hidden');
        emptyCartMessage.classList.add('hidden');
        checkoutBtn.disabled = false;
        checkoutBtn.setAttribute('aria-label', `å»ç»“ç®—ï¼Œæ€»é‡‘é¢${total}å…ƒ`);
      } else {
        cartBadge.classList.add('hidden');
        emptyCartMessage.classList.remove('hidden');
        checkoutBtn.disabled = true;
        checkoutBtn.setAttribute('aria-label', 'è´­ç‰©è½¦ä¸ºç©ºï¼Œæ— æ³•ç»“ç®—');
      }
      
      // æ›´æ–°æ€»è®¡
      cartTotal.textContent = `Â¥${total}`;
      
      // æ›´æ–°è´­ç‰©è½¦å•†å“åˆ—è¡¨
      cartItemsContainer.innerHTML = '';
      cart.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'flex items-center border border-gray-200 rounded-lg p-3';
        itemElement.setAttribute('role', 'listitem');
        itemElement.innerHTML = `
          <div class="w-16 h-16 bg-gray-100 rounded-lg mr-3 flex-shrink-0">
            <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover rounded-lg">
          </div>
          <div class="flex-1">
            <h4 class="font-bold text-sm">${item.name}</h4>
            <p class="text-primary font-bold">Â¥${item.price}</p>
            <div class="flex items-center mt-1">
              <button class="decrease-quantity w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors mobile-tap-target" data-id="${item.id}" aria-label="å‡å°‘${item.name}æ•°é‡">
                <i class="fa fa-minus text-xs" aria-hidden="true"></i>
              </button>
              <span class="mx-2 font-medium" aria-live="polite">${item.quantity}</span>
              <button class="increase-quantity w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center hover:bg-primaryHover transition-colors mobile-tap-target" data-id="${item.id}" aria-label="å¢åŠ ${item.name}æ•°é‡">
                <i class="fa fa-plus text-xs" aria-hidden="true"></i>
              </button>
              <button class="remove-item ml-3 text-gray-400 hover:text-red-500 transition-colors mobile-tap-target" data-id="${item.id}" aria-label="ç§»é™¤${item.name}">
                <i class="fa fa-trash" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        `;
        cartItemsContainer.appendChild(itemElement);
      });
      
      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
      localStorage.setItem('petdaily_cart', JSON.stringify(cart));
    }
    
    // æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
    document.addEventListener('click', function(event) {
      if (event.target.classList.contains('add-to-cart') || event.target.closest('.add-to-cart')) {
        const button = event.target.classList.contains('add-to-cart') ? event.target : event.target.closest('.add-to-cart');
        const productData = JSON.parse(button.getAttribute('data-product'));
        
        // æ£€æŸ¥å•†å“æ˜¯å¦å·²åœ¨è´­ç‰©è½¦
        const existingItem = cart.find(item => item.id === productData.id);
        
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            ...productData,
            quantity: 1
          });
        }
        
        updateCartDisplay();
        showNotification(`"${productData.name}"å·²æ·»åŠ åˆ°è´­ç‰©è½¦`, 'success');
        
        // æ·»åŠ åŠ¨ç”»æ•ˆæœ
        button.classList.add('bg-green-500');
        setTimeout(() => {
          button.classList.remove('bg-green-500');
        }, 300);
        
        // ç§»åŠ¨ç«¯è‡ªåŠ¨æ‰“å¼€è´­ç‰©è½¦
        if (window.innerWidth < 768) {
          openCart();
        }
      }
      
      // å‡å°‘æ•°é‡
      if (event.target.classList.contains('decrease-quantity') || event.target.closest('.decrease-quantity')) {
        const button = event.target.classList.contains('decrease-quantity') ? event.target : event.target.closest('.decrease-quantity');
        const id = parseInt(button.getAttribute('data-id'));
        const item = cart.find(item => item.id === id);
        
        if (item && item.quantity > 1) {
          item.quantity -= 1;
          updateCartDisplay();
          showNotification(`å‡å°‘äº†"${item.name}"çš„æ•°é‡`, 'info');
        }
      }
      
      // å¢åŠ æ•°é‡
      if (event.target.classList.contains('increase-quantity') || event.target.closest('.increase-quantity')) {
        const button = event.target.classList.contains('increase-quantity') ? event.target : event.target.closest('.increase-quantity');
        const id = parseInt(button.getAttribute('data-id'));
        const item = cart.find(item => item.id === id);
        
        if (item) {
          item.quantity += 1;
          updateCartDisplay();
          showNotification(`å¢åŠ äº†"${item.name}"çš„æ•°é‡`, 'info');
        }
      }
      
      // ç§»é™¤å•†å“
      if (event.target.classList.contains('remove-item') || event.target.closest('.remove-item')) {
        const button = event.target.classList.contains('remove-item') ? event.target : event.target.closest('.remove-item');
        const id = parseInt(button.getAttribute('data-id'));
        const item = cart.find(item => item.id === id);
        
        if (item) {
          cart = cart.filter(item => item.id !== id);
          updateCartDisplay();
          showNotification(`"${item.name}"å·²ä»è´­ç‰©è½¦ç§»é™¤`, 'info');
        }
      }
    });
    
    // æ‰“å¼€è´­ç‰©è½¦
    cartBtn.addEventListener('click', openCart);
    mobileCartBtn.addEventListener('click', openCart);
    
    function openCart() {
      cartSidebar.classList.remove('translate-x-full');
      cartOverlay.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      cartSidebar.setAttribute('aria-hidden', 'false');
      
      // ç§»åŠ¨ç«¯å…³é—­èœå•
      const mobileMenu = document.getElementById('mobileMenu');
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      if (!mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileMenuBtn.innerHTML = '<i class="fa fa-bars" aria-hidden="true"></i>';
      }
      
      // ç„¦ç‚¹ç®¡ç†
      setTimeout(() => {
        closeCartBtn.focus();
      }, 100);
    }
    
    // å…³é—­è´­ç‰©è½¦
    closeCartBtn.addEventListener('click', closeCart);
    cartOverlay.addEventListener('click', closeCart);
    
    // ESCé”®å…³é—­è´­ç‰©è½¦
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && !cartSidebar.classList.contains('translate-x-full')) {
        closeCart();
      }
    });
    
    function closeCart() {
      cartSidebar.classList.add('translate-x-full');
      cartOverlay.classList.add('hidden');
      document.body.style.overflow = '';
      cartSidebar.setAttribute('aria-hidden', 'true');
      
      // ç„¦ç‚¹è¿”å›æ‰“å¼€è´­ç‰©è½¦çš„æŒ‰é’®
      setTimeout(() => {
        if (window.innerWidth >= 768) {
          cartBtn.focus();
        } else {
          mobileCartBtn.focus();
        }
      }, 100);
    }
    
    // ç»“ç®—
    checkoutBtn.addEventListener('click', function() {
      if (cart.length > 0) {
        showNotification(`ç»“ç®—æˆåŠŸï¼æ€»é‡‘é¢ï¼š${cartTotal.textContent}`, 'success');
        cart = [];
        updateCartDisplay();
        closeCart();
      }
    });
    
    // åˆå§‹åŒ–è´­ç‰©è½¦æ˜¾ç¤º
    updateCartDisplay();
  }

  // å›¾è¡¨åˆå§‹åŒ–
  function initCharts() {
    // å¿ƒç‡å›¾è¡¨
    const heartRateCtx = document.getElementById('heartRateChart').getContext('2d');
    new Chart(heartRateCtx, {
      type: 'line',
      data: {
        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
        datasets: [{
          label: 'å¿ƒç‡ (BPM)',
          data: [85, 82, 88, 79, 90, 86, 83],
          borderColor: '#FF7A00',
          backgroundColor: 'rgba(255, 122, 0, 0.1)',
          tension: 0.4,
          fill: true
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            min: 70,
            max: 100
          }
        }
      }
    });
    
    // æ´»åŠ¨é‡å›¾è¡¨
    const activityCtx = document.getElementById('activityChart').getContext('2d');
    new Chart(activityCtx, {
      type: 'bar',
      data: {
        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
        datasets: [{
          label: 'æ´»åŠ¨é‡ (åˆ†é’Ÿ)',
          data: [120, 90, 150, 110, 180, 200, 140],
          backgroundColor: 'rgba(59, 130, 246, 0.7)',
          borderColor: '#3B82F6',
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        }
      }
    });
  }

  // è¿½è¸ªæ¼”ç¤º
  function initTrackingDemo() {
    const viewTrackingDemoBtn = document.getElementById('viewTrackingDemoBtn');
    const trackingDemoModal = document.getElementById('trackingDemoModal');
    const closeTrackingDemoBtn = document.getElementById('closeTrackingDemoBtn');
    const startSimulationBtn = document.getElementById('startSimulationBtn');
    const simulateAlertBtn = document.getElementById('simulateAlertBtn');
    const simulateLostBtn = document.getElementById('simulateLostBtn');
    const petMarker = document.getElementById('petMarker');
    
    let simulationInterval;
    let markerPosition = { x: 30, y: 40 };
    
    // æ‰“å¼€è¿½è¸ªæ¼”ç¤º
    viewTrackingDemoBtn.addEventListener('click', () => {
      trackingDemoModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      trackingDemoModal.setAttribute('aria-hidden', 'false');
      
      // ç„¦ç‚¹ç®¡ç†
      setTimeout(() => {
        closeTrackingDemoBtn.focus();
      }, 100);
    });
    
    // å…³é—­è¿½è¸ªæ¼”ç¤º
    closeTrackingDemoBtn.addEventListener('click', closeTrackingDemo);
    trackingDemoModal.addEventListener('click', (e) => {
      if (e.target === trackingDemoModal) closeTrackingDemo();
    });
    
    // ESCé”®å…³é—­è¿½è¸ªæ¼”ç¤º
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && !trackingDemoModal.classList.contains('hidden')) {
        closeTrackingDemo();
      }
    });
    
    function closeTrackingDemo() {
      trackingDemoModal.classList.add('hidden');
      document.body.style.overflow = '';
      trackingDemoModal.setAttribute('aria-hidden', 'true');
      stopSimulation();
      
      // ç„¦ç‚¹è¿”å›æ‰“å¼€æŒ‰é’®
      setTimeout(() => {
        viewTrackingDemoBtn.focus();
      }, 100);
    }
    
    // å¼€å§‹æ¨¡æ‹Ÿ
    startSimulationBtn.addEventListener('click', () => {
      if (simulationInterval) {
        stopSimulation();
        startSimulationBtn.textContent = 'å¼€å§‹æ¨¡æ‹Ÿè¿½è¸ª';
        startSimulationBtn.setAttribute('aria-label', 'å¼€å§‹æ¨¡æ‹Ÿè¿½è¸ª');
      } else {
        startSimulation();
        startSimulationBtn.textContent = 'åœæ­¢æ¨¡æ‹Ÿ';
        startSimulationBtn.setAttribute('aria-label', 'åœæ­¢æ¨¡æ‹Ÿè¿½è¸ª');
      }
    });
    
    function startSimulation() {
      simulationInterval = setInterval(() => {
        // éšæœºç§»åŠ¨æ ‡è®°
        markerPosition.x += (Math.random() - 0.5) * 5;
        markerPosition.y += (Math.random() - 0.5) * 5;
        
        // é™åˆ¶åœ¨è¾¹ç•Œå†…
        markerPosition.x = Math.max(10, Math.min(90, markerPosition.x));
        markerPosition.y = Math.max(10, Math.min(90, markerPosition.y));
        
        petMarker.style.left = `${markerPosition.x}%`;
        petMarker.style.top = `${markerPosition.y}%`;
      }, 500);
    }
    
    function stopSimulation() {
      if (simulationInterval) {
        clearInterval(simulationInterval);
        simulationInterval = null;
      }
    }
    
    // æ¨¡æ‹Ÿè­¦æŠ¥
    simulateAlertBtn.addEventListener('click', () => {
      showNotification('âš ï¸ å® ç‰©ç¦»å¼€å®‰å…¨åŒºåŸŸï¼', 'error');
      
      // æ·»åŠ é—ªçƒæ•ˆæœ
      simulateAlertBtn.classList.add('animate-pulse');
      setTimeout(() => {
        simulateAlertBtn.classList.remove('animate-pulse');
      }, 2000);
    });
    
    // æ¨¡æ‹Ÿèµ°å¤±
    simulateLostBtn.addEventListener('click', () => {
      showNotification('ğŸ” å·²å‘é™„è¿‘ç”¨æˆ·å‘é€èµ°å¤±ååŠ©è¯·æ±‚', 'info');
      
      // ç§»åŠ¨æ ‡è®°åˆ°å®‰å…¨åŒºåŸŸå¤–
      markerPosition = { x: 15, y: 15 };
      petMarker.style.left = '15%';
      petMarker.style.top = '15%';
    });
  }

  // äº§å“æ¼”ç¤º
  function initProductDemo() {
    const productDemoBtn = document.getElementById('productDemoBtn');
    const productDemoModal = document.getElementById('productDemoModal');
    const closeProductDemoBtn = document.getElementById('closeProductDemoBtn');
    
    productDemoBtn.addEventListener('click', () => {
      productDemoModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      productDemoModal.setAttribute('aria-hidden', 'false');
      
      // ç„¦ç‚¹ç®¡ç†
      setTimeout(() => {
        closeProductDemoBtn.focus();
      }, 100);
    });
    
    closeProductDemoBtn.addEventListener('click', () => {
      productDemoModal.classList.add('hidden');
      document.body.style.overflow = '';
      productDemoModal.setAttribute('aria-hidden', 'true');
      
      // ç„¦ç‚¹è¿”å›æ‰“å¼€æŒ‰é’®
      setTimeout(() => {
        productDemoBtn.focus();
      }, 100);
    });
    
    productDemoModal.addEventListener('click', (e) => {
      if (e.target === productDemoModal) {
        productDemoModal.classList.add('hidden');
        document.body.style.overflow = '';
        productDemoModal.setAttribute('aria-hidden', 'true');
      }
    });
    
    // ESCé”®å…³é—­äº§å“æ¼”ç¤º
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && !productDemoModal.classList.contains('hidden')) {
        productDemoModal.classList.add('hidden');
        document.body.style.overflow = '';
        productDemoModal.setAttribute('aria-hidden', 'true');
      }
    });
  }

  // å›¾ç‰‡æ‡’åŠ è½½ï¼ˆä¿®å¤ç‰ˆï¼‰
  function initLazyLoading() {
    const lazyImages = document.querySelectorAll('.lazy-image');
    
    // å¦‚æœæµè§ˆå™¨æ”¯æŒ IntersectionObserver
    if ('IntersectionObserver' in window) {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            const skeleton = img.previousElementSibling;
            
            // å…ˆè®¾ç½®srcï¼Œç­‰å¾…åŠ è½½å®Œæˆåå†æ˜¾ç¤º
            img.src = img.dataset.src;
            img.onload = () => {
              img.classList.remove('hidden');
              img.classList.add('loaded');
              if (skeleton && skeleton.classList.contains('skeleton')) {
                skeleton.classList.add('hidden');
              }
            };
            img.onerror = () => {
              // å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ï¼Œè®¾ç½®é»˜è®¤å›¾ç‰‡
              img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="#f0f0f0"/><text x="50" y="55" text-anchor="middle" fill="#999" font-size="10">å›¾ç‰‡åŠ è½½å¤±è´¥</text></svg>';
              img.classList.remove('hidden');
              img.classList.add('loaded');
              if (skeleton && skeleton.classList.contains('skeleton')) {
                skeleton.classList.add('hidden');
              }
            };
            
            observer.unobserve(img);
          }
        });
      }, {
        rootMargin: '50px 0px',
        threshold: 0.1
      });
      
      lazyImages.forEach(img => imageObserver.observe(img));
    } else {
      // å›é€€æ–¹æ¡ˆï¼šç›´æ¥åŠ è½½æ‰€æœ‰å›¾ç‰‡
      lazyImages.forEach(img => {
        const skeleton = img.previousElementSibling;
        img.src = img.dataset.src;
        img.onload = () => {
          img.classList.remove('hidden');
          img.classList.add('loaded');
          if (skeleton && skeleton.classList.contains('skeleton')) {
            skeleton.classList.add('hidden');
          }
        };
      });
    }
  }

  // PWAåŠŸèƒ½
  function initPWA() {
    let deferredPrompt;
    const installPrompt = document.getElementById('pwaInstallPrompt');
    const installPWAButton = document.getElementById('installPWAButton');
    const dismissPWAButton = document.getElementById('dismissPWAButton');
    const closePWAButton = document.getElementById('closePWAButton');
    const manualInstallBtn = document.getElementById('manualInstallBtn');
    
    // æ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…
    if (window.matchMedia('(display-mode: standalone)').matches) {
      console.log('PWAå·²å®‰è£…');
    }
    
    // ç›‘å¬beforeinstallpromptäº‹ä»¶
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // æ˜¾ç¤ºå®‰è£…æç¤º
      setTimeout(() => {
        if (!localStorage.getItem('pwaPromptDismissed')) {
          installPrompt.classList.remove('hidden');
          installPrompt.setAttribute('aria-hidden', 'false');
        }
      }, 5000);
      
      // æ˜¾ç¤ºæ‰‹åŠ¨å®‰è£…æŒ‰é’®
      if (manualInstallBtn) {
        manualInstallBtn.classList.remove('hidden');
        manualInstallBtn.addEventListener('click', showInstallPrompt);
      }
    });
    
    // å®‰è£…æŒ‰é’®ç‚¹å‡»
    installPWAButton.addEventListener('click', async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        
        if (outcome === 'accepted') {
          console.log('ç”¨æˆ·æ¥å—äº†PWAå®‰è£…');
          installPrompt.classList.add('hidden');
          installPrompt.setAttribute('aria-hidden', 'true');
        }
        
        deferredPrompt = null;
      }
    });
    
    // å…³é—­å®‰è£…æç¤º
    function closeInstallPrompt() {
      installPrompt.classList.add('hidden');
      installPrompt.setAttribute('aria-hidden', 'true');
      localStorage.setItem('pwaPromptDismissed', 'true');
    }
    
    dismissPWAButton.addEventListener('click', closeInstallPrompt);
    closePWAButton.addEventListener('click', closeInstallPrompt);
    
    // æ˜¾ç¤ºå®‰è£…æç¤º
    function showInstallPrompt() {
      installPrompt.classList.remove('hidden');
      installPrompt.setAttribute('aria-hidden', 'false');
    }
    
    // æ³¨å†ŒService Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').then(
          (registration) => {
            console.log('ServiceWorker æ³¨å†ŒæˆåŠŸ: ', registration.scope);
            
            // æ£€æŸ¥æ›´æ–°
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  console.log('æ–°ç‰ˆæœ¬å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢');
                  showNotification('æ–°ç‰ˆæœ¬å¯ç”¨ï¼Œè¯·åˆ·æ–°é¡µé¢è·å–æ›´æ–°', 'info');
                }
              });
            });
          },
          (err) => {
            console.log('ServiceWorker æ³¨å†Œå¤±è´¥: ', err);
          }
        );
        
        // ç›‘å¬ Service Worker æ¶ˆæ¯
        navigator.serviceWorker.addEventListener('message', event => {
          console.log('æ”¶åˆ° Service Worker æ¶ˆæ¯:', event.data);
        });
      });
    }
  }

  // Wordæ–‡æ¡£ä¸‹è½½
  function initDownloadWord() {
    const downloadWordBtn = document.getElementById('downloadWordBtn');
    
    downloadWordBtn.addEventListener('click', function() {
      // åˆ›å»ºè¦ä¸‹è½½çš„å†…å®¹
      const content = `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>å® ç‰©æ—¥æŠ¥ - æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
            h1 { color: #FF7A00; }
            h2 { color: #333; border-bottom: 1px solid #eee; padding-bottom: 10px; }
            .highlight { background-color: #f9f9f9; padding: 15px; border-left: 4px solid #FF7A00; }
            .stats { display: flex; justify-content: space-between; margin: 20px 0; }
            .stat-item { text-align: center; flex: 1; }
            table { border-collapse: collapse; width: 100%; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
            th { background-color: #f9f9f9; }
          </style>
        </head>
        <body>
          <h1>å® ç‰©æ—¥æŠ¥ - æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°</h1>
          <p><strong>2025åˆ›ä¸šåœˆå¤§èµ›å‚èµ›é¡¹ç›®</strong></p>
          
          <div class="highlight">
            <h2>é¡¹ç›®æ¦‚è¿°</h2>
            <p>å® ç‰©æ—¥æŠ¥æ˜¯ä¸€ä¸ªé›†å® ç‰©å®šä½ã€å¥åº·ç›‘æµ‹ã€åŒ»ç–—æœåŠ¡å’Œç¤¾åŒºäº’åŠ©äºä¸€ä½“çš„æ™ºèƒ½å® ç‰©ç”Ÿæ€å¹³å°ã€‚é€šè¿‡è½¯ç¡¬ä»¶ç»“åˆçš„æ–¹å¼ï¼Œä¸ºå® ç‰©ä¸»äººæä¾›å…¨æ–¹ä½çš„å® ç‰©å®ˆæŠ¤æœåŠ¡ã€‚</p>
          </div>
          
          <h2>æ ¸å¿ƒåŠŸèƒ½</h2>
          
          <h3>æ™ºèƒ½è¿½è¸ªç³»ç»Ÿ</h3>
          <ul>
            <li>å››é‡å®šä½æŠ€æœ¯ï¼šåŒ—æ–— + GPS + åŸºç«™ + Wi-Fi</li>
            <li>0.1ç±³å®šä½ç²¾åº¦ï¼Œ30å¤©è¶…é•¿ç»­èˆª</li>
            <li>IP68çº§é˜²æ°´ï¼Œå¼‚å¸¸æƒ…å†µæ¯«ç§’çº§è­¦æŠ¥</li>
            <li>ç¤¾åŒºä¼—åŒ…æ•‘æ´ï¼šä¸€é”®å‘å¸ƒèµ°å¤±ä¿¡æ¯</li>
          </ul>
          
          <h3>å® ç‰©åŒ»ç–—æœåŠ¡</h3>
          <ul>
            <li>è¿æ¥å…¨å›½5,000+å®¶è®¤è¯å® ç‰©åŒ»é™¢</li>
            <li>300+ä¸“ä¸šå…½åŒ»åœ¨çº¿ï¼Œå¹³å‡å“åº”æ—¶é—´2åˆ†é’Ÿ</li>
            <li>è¦†ç›–200+åŸå¸‚ï¼Œç´§æ€¥æ•‘æ´å¹³å‡åˆ°è¾¾æ—¶é—´15åˆ†é’Ÿ</li>
            <li>æ™ºèƒ½å¥åº·ç®¡ç†ï¼šç–«è‹—æ¥ç§ã€é©±è™«æé†’</li>
          </ul>
          
          <h3>æ™ºèƒ½äº§å“å•†åŸ</h3>
          <table>
            <thead>
              <tr>
                <th>äº§å“</th>
                <th>ä»·æ ¼</th>
                <th>ç‰¹ç‚¹</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>æ™ºèƒ½é¡¹åœˆ Model-X Pro</td>
                <td>Â¥399</td>
                <td>å››é‡å®šä½ï¼Œ30å¤©ç»­èˆªï¼ŒIP68é˜²æ°´</td>
              </tr>
              <tr>
                <td>æ™ºèƒ½å–‚é£Ÿå™¨</td>
                <td>Â¥259</td>
                <td>å®šæ—¶å®šé‡ï¼Œæ‰‹æœºè¿œç¨‹æ§åˆ¶</td>
              </tr>
              <tr>
                <td>æ™ºèƒ½é¥®æ°´æœº</td>
                <td>Â¥189</td>
                <td>3é‡è¿‡æ»¤ï¼Œé™éŸ³è®¾è®¡ï¼ŒUVæ€èŒ</td>
              </tr>
              <tr>
                <td>å® ç‰©æ‘„åƒå¤´</td>
                <td>Â¥329</td>
                <td>1080Pé«˜æ¸…ï¼ŒåŒå‘è¯­éŸ³ï¼Œç§»åŠ¨è¿½è¸ª</td>
              </tr>
            </tbody>
          </table>
          
          <h3>å® ç‰©ç¤¾åŒº</h3>
          <ul>
            <li>åˆ†äº«å…»å® ç»éªŒä¸è¶£äº‹</li>
            <li>å® ç‰©ä¸¢å¤±ç´§æ€¥æ±‚åŠ©</li>
            <li>çº¿ä¸‹èšä¼šæ´»åŠ¨ç»„ç»‡</li>
            <li>å® ç‰©çŸ¥è¯†ç§‘æ™®</li>
          </ul>
          
          <h2>å…³é”®æ•°æ®</h2>
          <div class="stats">
            <div class="stat-item">
              <h3>0.1ç±³</h3>
              <p>å®šä½ç²¾åº¦</p>
            </div>
            <div class="stat-item">
              <h3>30å¤©</h3>
              <p>è¶…é•¿ç»­èˆª</p>
            </div>
            <div class="stat-item">
              <h3>98%</h3>
              <p>å® ç‰©æ‰¾å›ç‡</p>
            </div>
            <div class="stat-item">
              <h3>5000+</h3>
              <p>åˆä½œåŒ»é™¢</p>
            </div>
          </div>
          
          <h2>æŠ€æœ¯æ¶æ„</h2>
          <ul>
            <li><strong>å‰ç«¯ï¼š</strong>HTML5, CSS3, JavaScript, Tailwind CSS</li>
            <li><strong>æ•°æ®å¯è§†åŒ–ï¼š</strong>Chart.js</li>
            <li><strong>å®šä½æŠ€æœ¯ï¼š</strong>åŒ—æ–—/GPSåŒæ¨¡å®šä½</li>
            <li><strong>æ•°æ®ä¼ è¾“ï¼š</strong>4G/5G + Wi-Fi + è“ç‰™</li>
            <li><strong>äº‘æœåŠ¡ï¼š</strong>æ•°æ®åŠ å¯†å­˜å‚¨ä¸å®æ—¶åŒæ­¥</li>
          </ul>
          
          <h2>å•†ä¸šæ¨¡å¼</h2>
          <ul>
            <li>æ™ºèƒ½ç¡¬ä»¶é”€å”®</li>
            <li>å¢å€¼æœåŠ¡è®¢é˜…ï¼ˆé«˜çº§å®šä½ã€æ•°æ®åˆ†æï¼‰</li>
            <li>ç”µå•†å¹³å°ä½£é‡‘</li>
            <li>å¹¿å‘Šä¸å“ç‰Œåˆä½œ</li>
            <li>åŒ»é™¢å¯¼æµåˆ†æˆ</li>
          </ul>
          
          <h2>å›¢é˜Ÿä»‹ç»</h2>
          <p>å® ç‰©æ—¥æŠ¥å›¢é˜Ÿç”±å® ç‰©è¡Œä¸šä¸“å®¶ã€ç¡¬ä»¶å·¥ç¨‹å¸ˆã€è½¯ä»¶å¼€å‘è€…ã€å…½åŒ»é¡¾é—®å’Œå¸‚åœºè¥é”€ä¸“å®¶ç»„æˆï¼Œè‡´åŠ›äºé€šè¿‡ç§‘æŠ€æ”¹å–„å® ç‰©ç”Ÿæ´»è´¨é‡ã€‚</p>
          
          <h2>è”ç³»æ–¹å¼</h2>
          <p>é‚®ç®±ï¼šcontact@petdaily.com</p>
          <p>ç”µè¯ï¼š400-123-4567</p>
          <p>åœ°å€ï¼šåŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åˆ›æ–°å¤§å¦Aåº§</p>
          
          <p><em>æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString('zh-CN')}</em></p>
          <p><em>æœ¬æ–‡æ¡£ç”±å® ç‰©æ—¥æŠ¥ç½‘ç«™è‡ªåŠ¨ç”Ÿæˆ</em></p>
        </body>
        </html>
      `;
      
      // åˆ›å»ºBlobå¯¹è±¡
      const blob = new Blob([content], { type: 'application/msword' });
      
      // åˆ›å»ºä¸‹è½½é“¾æ¥
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'å® ç‰©æ—¥æŠ¥é¡¹ç›®ä»‹ç».doc';
      
      // è§¦å‘ä¸‹è½½
      document.body.appendChild(a);
      a.click();
      
      // æ¸…ç†
      setTimeout(() => {
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 100);
      
      // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
      showNotification('Wordæ–‡æ¡£ä¸‹è½½æˆåŠŸï¼', 'success');
    });
  }

  // é€šç”¨æ˜¾ç¤ºé€šçŸ¥å‡½æ•°
  function showNotification(message, type = 'success') {
    const container = document.getElementById('notificationContainer');
    if (!container) return;
    
    const notification = document.createElement('div');
    notification.setAttribute('role', 'alert');
    notification.setAttribute('aria-live', 'assertive');
    
    const bgColor = type === 'success' ? 'bg-green-500' : 
                   type === 'error' ? 'bg-red-500' : 
                   type === 'warning' ? 'bg-yellow-500' : 'bg-blue-500';
    
    const icon = type === 'success' ? 'check' : 
                type === 'error' ? 'exclamation' : 
                type === 'warning' ? 'exclamation-triangle' : 'info';
    
    notification.className = `${bgColor} text-white px-4 py-3 rounded-lg shadow-lg animate-fade-in max-w-xs`;
    notification.innerHTML = `
      <div class="flex items-center">
        <i class="fa fa-${icon} mr-2" aria-hidden="true"></i>
        <span>${message}</span>
      </div>
    `;
    
    container.appendChild(notification);
    
    // 3ç§’åç§»é™¤
    setTimeout(() => {
      notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
      setTimeout(() => {
        if (notification.parentNode) {
          notification.remove();
        }
      }, 300);
    }, 3000);
  }
</script>
</body>
</html>